@using MVC.Boilerplate.Models.Lazy
@{  
    ViewBag.Title = "LazyLoading Demo";  
} 

<div class="jumbotron">  
    <h1>LazyLoading Demo</h1>  
    <p class="lead">  
        <strong>Total records: <span class="text-primary">@ViewBag.TotalPersonCount</span> </strong><br>
        <strong>Records Per Page: <span class="text-primary">@ViewBag.RecordsPerPage</span></strong>
    </p>  
</div>  
  
<table class="table table-striped table-bordered table-condensed infinite-scroll">  
        <thead>  
            <tr>  
                <th>ID #</th>  
                <th>Name</th>  
                <th>Email</th>  
            </tr>  
        </thead>  
        <tbody>  
            @Html.Partial("_PersonData", (ViewBag.Persons as List<Person>))  
        </tbody>  
    </table>  
  
@section scripts{  
    <script src="~/js/LazyLoading.js" asp-append-version=true></script>  
    <script type="text/javascript">  
        
        var url = '@Url.RouteUrl("Lazy/LoadList")';  
        maxPageCount = @ViewBag.MaxPageCount;
        $(window).scroll(scrollHandler);  
    </script>  
}  