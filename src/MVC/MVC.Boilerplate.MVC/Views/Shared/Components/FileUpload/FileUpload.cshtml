@model string
@using MVC.Boilerplate.Models.FileUpload
<div>
<div class= "form-group">
    @*<label asp-for="@Model" class="control-label"></label>*@
    <div class="custom-file">
        <input asp-for="@Model" type="file" name="@Model" class="custom-file-input" id="FL" 
             onchange="document.getElementById('FileUrl').href = window.URL.createObjectURL(this.files[0])" />
        @*<label class="custom-file-label" for="FL">Choose File</label>*@
        
    </div>
    @*<div><a href="" id="FileUrl"><h6></h6></a> <span><i class="btn btn-danger fa fa-trash"></i></span></div>*@


        <div>
     @Html.ActionLink($"{@ViewData["File"]}", "DownloadFile", new { fileName = @ViewData["FileUploadName"] })
      
     </div>
     @*<div>@Html.ActionLink("", "Delete", new { fileName = @ViewData["FileUploadName"] })<span><i class="btn btn-danger fa fa-trash"></i></span></div>*@
     @if (@ViewData["FileUploadName"] != null) {
            <a href="@Url.Action("Delete",  new { fileName = @ViewData["FileUploadName"] })" >
                <span><i class="btn btn-danger fa fa-trash"></i></span>
     </a>
     }

</div>

</div>

<script type= "text/javascript" on-content-loaded="true">

    var ImgUploads= document.getElementsByClassName("custom-file-input");
    for(let i=0;i< ImgUploads.length; i++){
        ImgUploads[i].addEventListener("change", function(){
            var fileName= $(this).val().split("\\").pop();
            $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
             $("h6").text(fileName);
            var attach_id = this.id;
            var fsize = $('#' + attach_id)[0].files[0].size;
            const file= Math.round((fsize / 1024));
            document.getElementById('@Model-size').innerText = 'File Size' + file + 'KB';
        });
    }

</script>